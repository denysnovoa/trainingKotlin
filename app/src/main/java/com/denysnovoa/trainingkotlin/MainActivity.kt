package com.denysnovoa.trainingkotlinimport android.os.Bundleimport android.support.v7.app.AppCompatActivityimport android.support.v7.widget.GridLayoutManagerimport android.support.v7.widget.RecyclerViewimport android.view.Menuimport android.view.MenuItemimport com.denysnovoa.trainingkotlin.MediaItem.Type.PHOTOimport com.denysnovoa.trainingkotlin.MediaItem.Type.VIDEOimport com.denysnovoa.trainingkotlin.adapter.MediaAdapterimport com.denysnovoa.trainingkotlin.adapter.MediaProviderimport org.jetbrains.anko.startActivityclass MainActivity : AppCompatActivity() {  val recycler2 by lazy { findViewById(R.id.recycler) as RecyclerView }  val mediaAdapter = MediaAdapter { navigateToDetail(it) }  override fun onCreate(savedInstanceState: Bundle?) {    super.onCreate(savedInstanceState)    setContentView(R.layout.activity_main)    recycler2.layoutManager = GridLayoutManager(this, 2)    recycler2.adapter = mediaAdapter    MediaProvider.getMediaAsync {      mediaAdapter.items = it    }    doAsync(3) { print(it) }  }  override fun onCreateOptionsMenu(menu: Menu): Boolean {    menuInflater.inflate(R.menu.main_menu, menu)    return super.onCreateOptionsMenu(menu)  }  override fun onOptionsItemSelected(item: MenuItem): Boolean {    MediaProvider.getMediaAsync {      media ->      mediaAdapter.items = when (item.itemId) {        R.id.filter_photos -> media.filter { it.type == PHOTO }        R.id.filter_videos -> media.filter { it.type == VIDEO }        else -> media      }    }    return super.onOptionsItemSelected(item)  }  private fun navigateToDetail(item: MediaItem) {    startActivity<DetailActivity>(DetailActivity.PARAMETER_ID to item.id)  }  private fun doAsync(i: Int, callback: (String) -> Unit) {    callback("Ok")  }}