package com.denysnovoa.trainingkotlinimport android.os.Bundleimport android.support.v7.app.AppCompatActivityimport android.support.v7.widget.GridLayoutManagerimport android.support.v7.widget.RecyclerViewimport android.view.Menuimport android.view.MenuItemimport com.denysnovoa.trainingkotlin.adapter.MediaAdapterclass MainActivity : AppCompatActivity() {  val recycler2 by lazy { findViewById(R.id.recycler) as RecyclerView }  val mediaAdapter = MediaAdapter(getMedia()) { toast(it.title) }  override fun onCreate(savedInstanceState: Bundle?) {    super.onCreate(savedInstanceState)    setContentView(R.layout.activity_main)    recycler2.layoutManager = GridLayoutManager(this, 2)    recycler2.adapter = mediaAdapter    doAsync(3) { print(it) }  }  override fun onCreateOptionsMenu(menu: Menu): Boolean {    menuInflater.inflate(R.menu.main_menu, menu)    return super.onCreateOptionsMenu(menu)  }  override fun onOptionsItemSelected(item: MenuItem): Boolean {    mediaAdapter.items = getMedia().let { media ->      when (item.itemId) {        R.id.filter_photos -> media.filter { it.type == MediaItem.Type.PHOTO }        R.id.filter_videos -> media.filter { it.type == MediaItem.Type.VIDEO }        else -> media      }    }    return super.onOptionsItemSelected(item)  }  private fun doAsync(i: Int, callback: (String) -> Unit) {    callback("Ok")  }  private val thumbBase = "http://lorempixel.com/400/400/cats/"  fun getMedia() = listOf(      MediaItem("Title 1", "${thumbBase}1", MediaItem.Type.PHOTO),      MediaItem("Title 2", "${thumbBase}2", MediaItem.Type.PHOTO),      MediaItem("Title 3", "${thumbBase}3", MediaItem.Type.VIDEO),      MediaItem("Title 4", "${thumbBase}4", MediaItem.Type.VIDEO),      MediaItem("Title 5", "${thumbBase}5", MediaItem.Type.VIDEO),      MediaItem("Title 6", "${thumbBase}6", MediaItem.Type.PHOTO),      MediaItem("Title 7", "${thumbBase}7", MediaItem.Type.VIDEO),      MediaItem("Title 8", "${thumbBase}8", MediaItem.Type.PHOTO),      MediaItem("Title 9", "${thumbBase}9", MediaItem.Type.VIDEO),      MediaItem("Title 10", "${thumbBase}10", MediaItem.Type.VIDEO)  )}